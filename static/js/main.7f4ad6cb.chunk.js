(this["webpackJsonpload-on-scroll"]=this["webpackJsonpload-on-scroll"]||[]).push([[0],{63:function(e,t,n){},95:function(e,t,n){"use strict";n.r(t);var r=n(2),c=n(0),a=n.n(c),o=n(19),i=n.n(o),s=(n(63),n(5)),u=n(6),l=n(7),d=function(e){return e.characters.isLoading},f=function(e){return e.characters.characters},j=function(e){return e.characters.currentPage},b=function(e){return e.characters.totalPagesCount};function O(){var e=Object(s.a)(["\n  color: white;\n  margin-right: 20px;\n"]);return O=function(){return e},e}function h(){var e=Object(s.a)(["\n    flex-basis: ","px;\n    flex-shrink: 0;\n    background-color: #444;\n    display: flex;\n    align-items: center;\n    padding: 0 20px;\n    color: white;\n"]);return h=function(){return e},e}var g=u.a.div(h(),50),p=u.a.h1(O()),v=function(){var e={totalPagesCount:Object(l.c)(b),currentPage:Object(l.c)(j)},t=e.totalPagesCount,n=e.currentPage;return Object(r.jsxs)(g,{children:[Object(r.jsx)(p,{children:"Load-on-scroll"}),Object(r.jsxs)("div",{children:[Object(r.jsxs)("div",{children:["Total Pages Count: ",t]}),Object(r.jsxs)("div",{children:["Current Page: ",n]})]})]})},x=n(14),C=n.n(x),T=n(20),A=n(29),E=n(10),m=n(47),R=n.n(m).a.create({baseURL:"https://rickandmortyapi.com/api/"}),y=function(){var e=arguments;return Object(T.a)(C.a.mark((function t(){var n,r;return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.length>0&&void 0!==e[0]?e[0]:1,t.next=3,R.get("character/?page=".concat(n));case 3:return r=t.sent,t.abrupt("return",r.data);case 5:case"end":return t.stop()}}),t)})))()},L={isLoading:!1,characters:[],totalPagesCount:0,currentPage:1,itemsInPage:0,countOfLoadedImages:0},S=function(e){return{type:"CHARACTERS/SET_CHARACTERS",charactersData:e}},I=function(e){return{type:"CHARACTERS/SET_CURRENT_PAGE",currentPage:e}},P=function(){return{type:"CHARACTERS/ADD_COUNT_OF_LOADED_IMAGES"}},_=function(e){return{type:"CHARACTERS/TOGGLE_LOADING",isLoading:e}},H=function(e){return{type:"CHARACTERS/SET_ITEMS_IN_PAGE",itemsInPage:e}},D=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:L,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CHARACTERS/TOGGLE_LOADING":return Object(E.a)(Object(E.a)({},e),{},{isLoading:t.isLoading});case"CHARACTERS/SET_CHARACTERS":return Object(E.a)(Object(E.a)({},e),{},{characters:[].concat(Object(A.a)(e.characters),Object(A.a)(t.charactersData.results)),totalPagesCount:t.charactersData.info.pages});case"CHARACTERS/SET_CURRENT_PAGE":return Object(E.a)(Object(E.a)({},e),{},{currentPage:t.currentPage});case"CHARACTERS/ADD_COUNT_OF_LOADED_IMAGES":var n=e.itemsInPage;return Object(E.a)(Object(E.a)({},e),{},{countOfLoadedImages:e.countOfLoadedImages===n-1?0:e.countOfLoadedImages+1,isLoading:e.countOfLoadedImages!==n-1&&e.isLoading});case"CHARACTERS/SET_ITEMS_IN_PAGE":return Object(E.a)(Object(E.a)({},e),{},{itemsInPage:t.itemsInPage});default:return e}},w=n(110),G=n(109),k=function(e){var t=e.size,n=void 0===t?100:t,c=e.styleType,a=function(e){var t=e.styleType,n=N(),r=F(),c=M(),a=r;return"absolute"===t&&(a=n),"static-top"===t&&(a=c),{classes:a}}({styleType:void 0===c?"static-center":c}).classes;return Object(r.jsx)("div",{className:a.circularWrapper,children:Object(r.jsx)(w.a,{size:n,color:"secondary"})})},N=Object(G.a)({circularWrapper:{position:"absolute",top:0,bottom:0,left:0,right:0,display:"flex",justifyContent:"center",alignItems:"center",zIndex:1001}}),F=Object(G.a)({circularWrapper:{display:"flex",justifyContent:"center",alignItems:"center"}}),M=Object(G.a)({circularWrapper:{display:"flex",justifyContent:"center",alignItems:"flex-start"}}),U=n(54);function W(){var e=Object(s.a)(["\n  color: darkblue;\n  font-weight: bold;\n  margin-left: 10px;\n"]);return W=function(){return e},e}function z(){var e=Object(s.a)(["\n    height: 45px;\n    border-radius: 5px;    \n"]);return z=function(){return e},e}function B(){var e=Object(s.a)(["\n    position: absolute;\n    top: 0;\n    left: 0;\n"]);return B=function(){return e},e}function J(){var e=Object(s.a)(["\n  position: relative;\n  width: 45px;\n  height: 45px;\n"]);return J=function(){return e},e}function q(){var e=Object(s.a)(["\n    height: 50px;\n    padding: 0 10px;\n    display: flex;\n    align-items: center;\n    &:nth-child(2n+1) {\n    background-color: #eee;\n    }\n"]);return q=function(){return e},e}var K=u.a.div(q()),Q=u.a.div(J()),V=u.a.div(B()),X=u.a.img(z()),Y=u.a.p(W()),Z=function(e){var t=e.character,n=function(){var e=Object(c.useState)(!0),t=Object(U.a)(e,2),n=t[0],r=t[1],a=Object(l.b)();return{onLoadHandler:function(){a(P()),r(!1)},localIsLoading:n}}(),a=n.onLoadHandler,o=n.localIsLoading;return Object(r.jsxs)(K,{children:[Object(r.jsxs)(Q,{children:[Object(r.jsx)(X,{src:t.image,onLoad:a}),o&&Object(r.jsx)(V,{children:Object(r.jsx)(w.a,{size:45,color:"secondary"})})]}),Object(r.jsx)(Y,{children:t.name})]})},$=n(51),ee=n.n($);function te(){var e=Object(s.a)(["\n    height: calc(100vh - ","px);    \n    flex-grow: 1;\n    overflow: auto;    \n"]);return te=function(){return e},e}var ne=u.a.div(te(),50),re=function(){var e=Object(l.b)(),t=Object(l.c)(j),n=Object(l.c)(f),a=Object(l.c)(b),o=Object(l.c)(d);Object(c.useEffect)((function(){e(function(e){return function(){var t=Object(T.a)(C.a.mark((function t(n){var r;return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n(_(!0)),t.next=4,y(e);case 4:r=t.sent,n(S(r)),n(H(r.results.length)),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),console.log(t.t0);case 12:return t.prev=12,t.finish(12);case 14:case"end":return t.stop()}}),t,null,[[0,9,12,14]])})));return function(e){return t.apply(this,arguments)}}()}(t))}),[t,e]);var i=n.map((function(e){return Object(r.jsx)(Z,{character:e},e.id)})),s=ee()((function(){if(u&&u.current){var n=u.current.scrollTop;u.current.scrollHeight-n-u.current.clientHeight<=50&&!o&&t<a&&e(I(t+1))}}),1e3),u=Object(c.useRef)(null);return{charactersElements:i,onScrollHandlerThrottle:s,ref:u,isLoading:o}},ce=function(){var e=re(),t=e.charactersElements,n=e.onScrollHandlerThrottle,c=e.ref,a=e.isLoading;return Object(r.jsxs)(ne,{onScroll:n,ref:c,children:[t,a&&Object(r.jsx)(k,{styleType:"absolute"})]})};function ae(){var e=Object(s.a)(["\n    height: 100vh;\n    display: flex;\n    flex-direction: column;\n"]);return ae=function(){return e},e}var oe=u.a.div(ae());var ie=function(){return Object(r.jsxs)(oe,{children:[Object(r.jsx)(v,{}),Object(r.jsx)(ce,{})]})},se=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,112)).then((function(t){var n=t.getCLS,r=t.getFID,c=t.getFCP,a=t.getLCP,o=t.getTTFB;n(e),r(e),c(e),a(e),o(e)}))},ue=n(12),le=n(52),de=n(53),fe=Object(ue.combineReducers)({characters:D}),je=[le.a],be=Object(ue.createStore)(fe,Object(de.composeWithDevTools)(ue.applyMiddleware.apply(void 0,je)));i.a.render(Object(r.jsx)(a.a.StrictMode,{children:Object(r.jsx)(l.a,{store:be,children:Object(r.jsx)(ie,{})})}),document.getElementById("root")),se()}},[[95,1,2]]]);
//# sourceMappingURL=main.7f4ad6cb.chunk.js.map